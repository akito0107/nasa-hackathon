

アクション周りのデータ要件を整理しました。

# アクションに関する要件
星をTap

1.モーダルが出る
モーダルに表示するもの

2.アクションをする
戦争してる感じ
hack => 相手の陣地だと攻撃できる。自分の陣地だと守りを強化できる。
星っぽいアクション

3.星を確保できる
確保したら星の色が変わる

---

# サーバ・クライアント共通のモデル

> 実際にはリスト形式だったり計算・結合した形でIFしたいので別途調整させてください。


## star

- id
- name
- description （説明文はデータセットで用意できなそうなら、「XX星座の一部です」くらいでいいかも）
- lon
- lat

## team

- id
- name
- color

チームは `0:Not:White`, `1:Earth:blue`, `2:Alien:red` の3つを想定。道などは緑で表示。
`0` を明記しているのはシステム都合で万が一必要になったときの予防策。
色はフロントのCSSで出しわけるために使うかな。いらないかも。

## Score

- id
- star_id
- team_id
- count

星はいずれかのチームに属する（相手のスコアを0にした上で攻撃すると取り返せる）。星の状態はstar_idで絞り込む。チームの合計スコアはteam_idで絞り込んでsum。

---

# フロントのアクション

## 描画
- 戦況を掲示（teamのscore もしくは starのteam_idごとの数）
- 星を描画（lon/latで位置を指定、team_idで色を指定）
    - 現在値から一定範囲で取得？だとしたら要Indexだけど。

## 星をタップ
- starの各カラムを表示
    - name, description, score
    - team_idに応じて色を変える
- Hack（user_id/star_idの組み合わせをサーバにPOSTする）

## Hack
- Must
    - scoreを変更（自分のteam_idなら++, 相手のteam_idなら--）
- Want
    - なんか攻撃している！感を描画
    - starのteam_idが変わったら変わったぞ！感を描画

※テキストデータでかつ容量大きめになるようなら要zipか
